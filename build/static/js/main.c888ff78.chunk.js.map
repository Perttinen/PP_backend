{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["printOneOrderLine","r","lDate","so","site","machines","Cador","Permatic","Perfekt","Syntax","Concept","MiniSyntax","Format","Progress","printOneDayTotalWeightByMachineLine","day","data","allMachines","i","length","includes","c","Object","keys","class","createOrderObjects","orderObjects","order_id","loading_date","building_site","machine","weight_kg","machine_name","concat","sort","a","b","replaceAll","Show","forEach","e","J","rivit","App","useState","setData","useEffect","axios","get","then","res","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c888ff78.chunk.js","sourcesContent":["import React, { useState, useEffect} from 'react';\nimport './App.css';\nimport axios from 'axios'\n\nconst printOneOrderLine = (r) => {\n  return <tr key={r.so}> \n  <td>{r.lDate}</td>\n  <td>{r.so}</td>                                         \n  <td>{r.site}</td>                                                \n  <td>{r.machines.Cador}</td>\n  <td>{r.machines.Permatic}</td>\n  <td>{r.machines.Perfekt}</td>\n  <td>{r.machines.Syntax}</td>\n  <td>{r.machines.Concept}</td>                                           \n  <td>{r.machines.MiniSyntax}</td>\n  <td>{r.machines.Format}</td>\n  <td>{r.machines.Progress}</td>\n</tr>\n}\nconst printOneOrderLineNodate = (r) => {\n  return <tr key={r.so}> \n  <td>{''}</td>\n  <td>{r.so}</td>                                         \n  <td>{r.site}</td>                                                \n  <td>{r.machines.Cador}</td>\n  <td>{r.machines.Permatic}</td>\n  <td>{r.machines.Perfekt}</td>\n  <td>{r.machines.Syntax}</td>\n  <td>{r.machines.Concept}</td>                                           \n  <td>{r.machines.MiniSyntax}</td>\n  <td>{r.machines.Format}</td>\n  <td>{r.machines.Progress}</td>\n</tr>\n}\n\nconst printOneDayTotalWeightByMachineLine = (day, data) => {\n  let allMachines = {Cador:null, Permatic:null, Perfekt:null, Syntax:null, Concept:null, MiniSyntax:null, Format:null, Progress:null}\n  for(let i = 0; i<data.length; i++){\n    if(data[i].lDate.includes(day)){\n    \n      for(let c = 0; c<Object.keys(data[i].machines).length; c++){\n        allMachines[Object.keys(data[i].machines)[c]] += data[i].machines[Object.keys(data[i].machines)[c]]\n      }\n  }\n\n  // for(let i = 0; i<Object.keys(allMachines).length;i++){\n  //   if(allMachines[Object.keys(allMachines)[i]] === 0){\n  //     allMachines[Object.keys(allMachines)[i]] = null\n  //   }\n  // }\n  \n  }\n  return <tr class=\"sumLine\"> \n  <td>{''}</td>\n  <td>{''}</td>                                         \n  <td>{''}</td>                                                \n  <td>{allMachines.Cador}</td>\n  <td>{allMachines.Permatic}</td>\n  <td>{allMachines.Perfekt}</td>\n  <td>{allMachines.Syntax}</td>\n  <td>{allMachines.Concept}</td>                                           \n  <td>{allMachines.MiniSyntax}</td>\n  <td>{allMachines.Format}</td>\n  <td>{allMachines.Progress}</td>\n</tr>\n}\n\nconst createOrderObjects = (data) => {\nif(data.length > 1){\n  let orderObjects = []\n  orderObjects[0] = {\n    so: data[0].order_id,\n    lDate: data[0].loading_date,\n    site: data[0].building_site,\n    machines: {\n      [data[0].machine]: data[0].weight_kg,\n      }\n    }\n\n  for(let i = 1; i < data.length; i++){\n    for(let c = 0; c < orderObjects.length; c++){\n      if(data[i].order_id === orderObjects[c].so){\n        if(Object.keys(orderObjects[c].machines).includes(data[i].machine_name)){\n        orderObjects[c].machines[data[i].machine_name] += data[i].weight_kg\n        }else{\n          orderObjects[c].machines[data[i].machine_name] = data[i].weight_kg\n        }\n        break\n      }\n      if(c === orderObjects.length - 1){\n        orderObjects = orderObjects.concat({\n          so: data[i].order_id,\n          lDate: data[i].loading_date,\n          site: data[i].building_site,\n          machines: {\n            [data[i].machine_name]: data[i].weight_kg\n          }\n        })\n        c++\n      }\n    }\n  }\n  orderObjects = orderObjects.sort((a,b) => a.lDate.replaceAll('-','') -b.lDate.replaceAll('-',''))\n  \n  return orderObjects\n}\n\n}\n\nconst Show = ({data}) => {\n  if(data.length>1){\n    data.forEach(e => {\n      if(e.machine_name.includes('Mini S')){e.machine_name = 'MiniSyntax'}\n      if(e.machine_name.includes('Perf')){e.machine_name = 'Perfekt'}\n      if(e.machine_name.includes('ine')){e.machine_name = 'Syntax'}  \n  })\n  \n  let orderObjects = createOrderObjects(data)\n\n    const J = () => {\n      let rivit = []\n      rivit[0] = printOneOrderLine(orderObjects[0])\n\n      for(let i = 1; i<orderObjects.length;i++){\n        if(orderObjects[i].lDate !== orderObjects[i-1].lDate){\n          rivit = rivit.concat(printOneDayTotalWeightByMachineLine(orderObjects[i-1].lDate, orderObjects))\n        }\n        if(orderObjects[i].lDate === orderObjects[i-1].lDate){\n        rivit = rivit.concat(printOneOrderLineNodate(orderObjects[i]))\n        }else{\n          rivit=rivit.concat(printOneOrderLine(orderObjects[i]))\n        }\n\n      }\n      printOneDayTotalWeightByMachineLine('2020-11-24', orderObjects)\n      return rivit\n    }\n    return (\n      <table>\n        <thead>\n          <tr>\n            <th>PVM</th><th>Tilausnumero</th><th>Kohde</th><th>Cador</th><th>Tupla</th><th>Pöytä</th><th>Syntax</th><th>Concept</th><th>Minisyntax</th>\n            <th>Format</th><th>Progress</th>\n          </tr>\n        </thead>\n        <tbody>\n          <J/>\n        </tbody>\n      </table>\n    )\n  }\n  return 'Ladataan...'\n}\n\nconst App = () => {\n\n  const [data,setData] = useState([])\n\n  // useEffect(() => {\n  \n  //   setInterval(() => {\n  //   axios\n  //     .get('http://s237-0075:3005/indalgo/management/optimizer/get_table_data/pending_production')\n  //     .then(res =>{ setData(res.data) \n  //     console.log(new Date())  }              \n  //     ) },120000)\n  //     }    \n  //     ,[])\n\n      useEffect(() => {\n        axios\n          .get('http://s237-0075:3005/indalgo/management/optimizer/get_table_data/pending_production')\n          .then(res =>setData(res.data))\n          }    \n          ,[])\n\n          createOrderObjects(data)\n\n\n  return (\n    \n    <div>\n    <h1>SteelReporter</h1>\n<Show data={data}/>\n \n    </div>\n    \n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}